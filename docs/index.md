# Quick Poll
Discord用の高機能アンケートBOTです。  
簡単なコマンド操作で多様なアンケートを作成でき、票数の集計、データ出力まで行えます。  

## 目次
- [導入方法](#導入方法)
- [各コマンド解説](#各コマンド解説)
- [その他の機能解説](#その他の機能解説)

## 導入方法
ご自身が**サーバー管理権限**を持つサーバーへ導入できます。  
以下のリンクからサーバーへの導入を行ってください。  
https://discord.com/oauth2/authorize?&client_id=631159438337900575&permissions=388160&scope=bot  

## 各コマンド解説
BOTに対してメンションを送るか、各コマンドに何もパラメータを指定しなかった場合、簡単なチュートリアルが表示されます。  
各コマンドを利用するときは必ず`/`か`ex/`で始め、各パラメータは**半角スペース**か**改行**で区切って入力してください。  
各パラメータに半角スペースを含めたいときは、パラメータ全体を`""`で囲ってください。  
なお、`/`は別の記号に変更することも可能です。([コマンドプレフィックスの変更](#コマンドプレフィックスの変更))  

### exオプション
通常各コマンドは1人複数の票を入れることができますが、先頭に`ex`を付けることで1人1票に制限することができます。  
- 例文
```
ex/poll 人口が2番目に多い国は？ 中国 ロシア アメリカ インド インドネシア
```

### /poll
アンケートを作成します。  
選択肢は**最大20個**までで、絵文字と選択肢は対になるように入力してください。  
絵文字を省略した場合、
<img src="https://github.com/twitter/twemoji/blob/master/assets/72x72/1f1e6.png" width="16"> 
<img src="https://github.com/twitter/twemoji/blob/master/assets/72x72/1f1e7.png" width="16"> 
<img src="https://github.com/twitter/twemoji/blob/master/assets/72x72/1f1e8.png" width="16"> ...
の絵文字が代わりに使用されます。  
選択肢を省略した場合、質問文と指定された絵文字のリアクションのみが表示されます。  
どちらも省略し質問文のみを指定した場合、
<img src="https://github.com/twitter/twemoji/blob/master/assets/72x72/2b55.png" width="16"> 
<img src="https://github.com/twitter/twemoji/blob/master/assets/72x72/274c.png" width="16"> 
の二択からなるアンケートが作成されます。  
また、コマンド文と共に画像ファイルを添付すると、その画像をアンケートに埋め込みます。  
- 文法
```
/poll <質問文> [[<絵文字>] [<選択肢>]]...
```
- 例文
```
/poll スイカは果物である
/poll カロリーメイト何味が好き？ チーズ フルーツ チョコレート メープル プレーン
/poll 好きな果物は？ 🍎 りんご 🍇 ぶどう 🍊 みかん 🥝 キウイ
/poll 今の気持ちを選んで！ 😄 😊 😢 😠
```

### /numpoll
指定した数ぶんの選択肢が付いたアンケートを作成します。  
質問文と選択肢の数を算用数字で指定してください。  
- 文法
```
/numpoll <質問文> <選択肢数>
```
- 例文
```
/numpoll チームを選択してください 8
```

### /freepoll
質問文のみのアンケートを作成します。  
質問文のみ指定してください。  
- 文法
```
/freepoll <質問文>
```
- 例文
```
/freepoll 好きな絵文字を教えて！
```

### /sumpoll
アンケートの集計を行います。  
同じチャンネル内のアンケートのみ集計できます。  
アンケート作成時に表示されたコマンド文をそのまま送信するか、メッセージID(数字)を指定してください。  
- 文法
```
/sumpoll <メッセージID>
```
- 例文
```
/sumpoll 729730719039094916
```

### /csvpoll
**ベータ機能のため、正しく動作しない可能性があります。**  
アンケートを集計し、CSVデータを出力します。  
同じチャンネル内のアンケートのみ集計できます。  
各選択肢の票数と割合、投票したユーザーの名前を最大100名まで取得します。  
文字コードはUTF-8(BOM付き)です。  
アンケートのメッセージID(数字)を指定してください。  
- 文法
```
/csvpoll <メッセージID>
```
- 例文
```
/csvpoll 729002614787801099
```

## その他の機能
### コマンドプレフィックスの変更
他のBOTの競合を避けるため、コマンドプレフィックスの`/`を任意の記号に変更することができます。  
BOTのニックネームの中に`[]`で囲んで、半角英数記号4文字まで指定できます。  
- 例
```
[#] Quick Poll
Quick Poll [>>]
アンケートBOT [vote]
```
